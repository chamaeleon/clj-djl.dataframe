<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-djl.dataframe documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">clj-djl.dataframe</span> <span class="project-version">0.1.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-djl</span></div></div></li><li class="depth-2 current"><a href="clj-djl.dataframe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dataframe</span></div></a></li><li class="depth-3 branch"><a href="clj-djl.dataframe.column-filters.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>column-filters</span></div></a></li><li class="depth-3"><a href="clj-djl.dataframe.functional.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>functional</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-djl.dataframe.html#var--.3Edataframe"><div class="inner"><span>-&gt;dataframe</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var--.3Endarray"><div class="inner"><span>-&gt;ndarray</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-add-column"><div class="inner"><span>add-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-add-or-update-column"><div class="inner"><span>add-or-update-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-assoc-ds"><div class="inner"><span>assoc-ds</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-brief"><div class="inner"><span>brief</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-categorical-.3Eone-hot"><div class="inner"><span>categorical-&gt;one-hot</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-column"><div class="inner"><span>column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-column-count"><div class="inner"><span>column-count</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-column-names"><div class="inner"><span>column-names</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-columns"><div class="inner"><span>columns</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-columns-with-missing-seq"><div class="inner"><span>columns-with-missing-seq</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-concat"><div class="inner"><span>concat</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-concat-copying"><div class="inner"><span>concat-copying</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-concat-inplace"><div class="inner"><span>concat-inplace</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-data-.3Edataframe"><div class="inner"><span>data-&gt;dataframe</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-dataframe-.3Edata"><div class="inner"><span>dataframe-&gt;data</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-dataframe-name"><div class="inner"><span>dataframe-name</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-drop-columns"><div class="inner"><span>drop-columns</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-drop-missing"><div class="inner"><span>drop-missing</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-drop-rows"><div class="inner"><span>drop-rows</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-ensure-array-backed"><div class="inner"><span>ensure-array-backed</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-filter"><div class="inner"><span>filter</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-filter-column"><div class="inner"><span>filter-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-group-by"><div class="inner"><span>group-by</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-group-by-.3Eindexes"><div class="inner"><span>group-by-&gt;indexes</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-group-by-column"><div class="inner"><span>group-by-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-group-by-column-.3Eindexes"><div class="inner"><span>group-by-column-&gt;indexes</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-has-column.3F"><div class="inner"><span>has-column?</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-head"><div class="inner"><span>head</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-missing"><div class="inner"><span>missing</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-new-column"><div class="inner"><span>new-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-order-column-names"><div class="inner"><span>order-column-names</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-remove-column"><div class="inner"><span>remove-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-remove-columns"><div class="inner"><span>remove-columns</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-remove-rows"><div class="inner"><span>remove-rows</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-rename-columns"><div class="inner"><span>rename-columns</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-replace-missing"><div class="inner"><span>replace-missing</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-row-count"><div class="inner"><span>row-count</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select"><div class="inner"><span>select</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select-by-index"><div class="inner"><span>select-by-index</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select-columns"><div class="inner"><span>select-columns</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select-columns-by-index"><div class="inner"><span>select-columns-by-index</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select-rows"><div class="inner"><span>select-rows</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-select-rows-by-index"><div class="inner"><span>select-rows-by-index</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-set-dataframe-name"><div class="inner"><span>set-dataframe-name</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-shape"><div class="inner"><span>shape</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-sort-by"><div class="inner"><span>sort-by</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-sort-by-column"><div class="inner"><span>sort-by-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-tail"><div class="inner"><span>tail</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-take-nth"><div class="inner"><span>take-nth</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-unique-by"><div class="inner"><span>unique-by</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-unique-by-column"><div class="inner"><span>unique-by-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-unordered-select"><div class="inner"><span>unordered-select</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-update-column"><div class="inner"><span>update-column</span></div></a></li><li class="depth-1"><a href="clj-djl.dataframe.html#var-update-columns"><div class="inner"><span>update-columns</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-djl.dataframe</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--.3Edataframe"><h3>-&gt;dataframe</h3><div class="usage"><code>(-&gt;dataframe dataframe {:keys [table-name dataset-name], :as options})</code><code>(-&gt;dataframe dataframe)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L72">view source</a></div></div><div class="public anchor" id="var--.3Endarray"><h3>-&gt;ndarray</h3><div class="usage"><code>(-&gt;ndarray ndm dataframe)</code></div><div class="doc"><div class="markdown"><p>Convert dataframe to NDArray</p></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L67">view source</a></div></div><div class="public anchor" id="var-add-column"><h3>add-column</h3><div class="usage"><code>(add-column dataset column)</code></div><div class="doc"><div class="markdown"><p>Add a new column. Error if name collision</p></div></div></div><div class="public anchor" id="var-add-or-update-column"><h3>add-or-update-column</h3><div class="usage"><code>(add-or-update-column dataset colname column)</code><code>(add-or-update-column dataset column)</code></div><div class="doc"><div class="markdown"><p>If column exists, replace. Else append new column.</p></div></div></div><div class="public anchor" id="var-assoc-ds"><h3>assoc-ds</h3><div class="usage"><code>(assoc-ds dataset cname cdata &amp; args)</code></div><div class="doc"><div class="markdown"><p>If dataset is not nil, calls <code>clojure.core/assoc</code>. Else creates a new empty dataset and then calls <code>clojure.core/assoc</code>. Guaranteed to return a dataset (unlike assoc).</p></div></div></div><div class="public anchor" id="var-brief"><h3>brief</h3><div class="usage"><code>(brief ds options)</code><code>(brief ds)</code></div><div class="doc"><div class="markdown"><p>Get a brief description, in mapseq form of a dataset. A brief description is the mapseq form of descriptive stats.</p></div></div></div><div class="public anchor" id="var-categorical-.3Eone-hot"><h3>categorical-&gt;one-hot</h3><div class="usage"><code>(categorical-&gt;one-hot dataset filter-fn-or-ds)</code><code>(categorical-&gt;one-hot dataset filter-fn-or-ds table-args)</code><code>(categorical-&gt;one-hot dataset filter-fn-or-ds table-args result-datatype)</code></div><div class="doc"><div class="markdown"><p>Convert string columns to numeric columns. See tech.v3.dataset.categorical/fit-one-hot</p></div></div></div><div class="public anchor" id="var-column"><h3>column</h3><div class="usage"><code>(column dataset colname)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-column-count"><h3>column-count</h3><div class="usage"><code>(column-count dataset)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-column-names"><h3>column-names</h3><div class="usage"><code>(column-names dataset)</code></div><div class="doc"><div class="markdown"><p>In-order sequence of column names</p></div></div></div><div class="public anchor" id="var-columns"><h3>columns</h3><div class="usage"><code>(columns dataset)</code></div><div class="doc"><div class="markdown"><p>Return sequence of all columns in dataset.</p></div></div></div><div class="public anchor" id="var-columns-with-missing-seq"><h3>columns-with-missing-seq</h3><div class="usage"><code>(columns-with-missing-seq dataset)</code></div><div class="doc"><div class="markdown"><p>Return a sequence of:</p>
<pre><code class="clojure">  {:column-name column-name
   :missing-count missing-count
  }
</code></pre>
<p>or nil of no columns are missing data.</p></div></div></div><div class="public anchor" id="var-concat"><h3>concat</h3><div class="usage"><code>(concat dataset &amp; datasets)</code></div><div class="doc"><div class="markdown"><p>Concatenate datasets in place. See also concat-copying as it may be more efficient for your use case.</p></div></div></div><div class="public anchor" id="var-concat-copying"><h3>concat-copying</h3><div class="usage"><code>(concat-copying dataset &amp; datasets)</code></div><div class="doc"><div class="markdown"><p>Concatenate datasets into a new dataset copying data. Respects missing values. Datasets must all have the same columns. Result column datatypes will be a widening cast of the datatypes.</p></div></div></div><div class="public anchor" id="var-concat-inplace"><h3>concat-inplace</h3><div class="usage"><code>(concat-inplace dataset &amp; datasets)</code></div><div class="doc"><div class="markdown"><p>Concatenate datasets in place. Respects missing values. Datasets must all have the same columns. Result column datatypes will be a widening cast of the datatypes.</p></div></div></div><div class="public anchor" id="var-data-.3Edataframe"><h3>data-&gt;dataframe</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L64">view source</a></div></div><div class="public anchor" id="var-dataframe-.3Edata"><h3>dataframe-&gt;data</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L63">view source</a></div></div><div class="public anchor" id="var-dataframe-name"><h3>dataframe-name</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L61">view source</a></div></div><div class="public anchor" id="var-drop-columns"><h3>drop-columns</h3><div class="usage"><code>(drop-columns dataset col-name-seq)</code></div><div class="doc"><div class="markdown"><p>Same as remove-columns</p></div></div></div><div class="public anchor" id="var-drop-missing"><h3>drop-missing</h3><div class="usage"><code>(drop-missing dataset-or-col)</code></div><div class="doc"><div class="markdown"><p>Remove missing entries by simply selecting out the missing indexes</p></div></div></div><div class="public anchor" id="var-drop-rows"><h3>drop-rows</h3><div class="usage"><code>(drop-rows dataset-or-col row-indexes)</code></div><div class="doc"><div class="markdown"><p>Drop rows from dataset or column</p></div></div></div><div class="public anchor" id="var-ensure-array-backed"><h3>ensure-array-backed</h3><div class="usage"><code>(ensure-array-backed ds {:keys [unpack?], :or {unpack? true}})</code><code>(ensure-array-backed ds)</code></div><div class="doc"><div class="markdown"><p>Ensure the column data in the dataset is stored in pure java arrays. This is sometimes necessary for interop with other libraries and this operation will force any lazy computations to complete. This also clears the missing set for each column and writes the missing values to the new arrays.</p>
<p>Columns that are already array backed and that have no missing values are not changed and retuned.</p>
<p>The postcondition is that dtype/-&gt;array will return a java array in the appropriate datatype for each column.</p>
<p>options - :unpack? - unpack packed datetime types. Defaults to true</p></div></div></div><div class="public anchor" id="var-filter"><h3>filter</h3><div class="usage"><code>(filter dataset predicate)</code></div><div class="doc"><div class="markdown"><p>dataset-&gt;dataset transformation. Predicate is passed a map of colname-&gt;column-value.</p></div></div></div><div class="public anchor" id="var-filter-column"><h3>filter-column</h3><div class="usage"><code>(filter-column dataset colname predicate)</code></div><div class="doc"><div class="markdown"><p>Filter a given column by a predicate. Predicate is passed column values. If predicate is <em>not</em> an instance of Ifn it is treated as a value and will be used as if the predicate is #(= value %). Returns a dataset.</p></div></div></div><div class="public anchor" id="var-group-by"><h3>group-by</h3><div class="usage"><code>(group-by dataset key-fn)</code></div><div class="doc"><div class="markdown"><p>Produce a map of key-fn-value-&gt;dataset. key-fn is a function taking a map of colname-&gt;column-value. Selecting which columns are used in the key-fn using column-name-seq is optional but will greatly improve performance.</p></div></div></div><div class="public anchor" id="var-group-by-.3Eindexes"><h3>group-by-&gt;indexes</h3><div class="usage"><code>(group-by-&gt;indexes dataset key-fn)</code></div><div class="doc"><div class="markdown"><p>(Non-lazy) - Group a dataset and return a map of key-fn-value-&gt;indexes where indexes is an in-order contiguous group of indexes.</p></div></div></div><div class="public anchor" id="var-group-by-column"><h3>group-by-column</h3><div class="usage"><code>(group-by-column dataset colname)</code></div><div class="doc"><div class="markdown"><p>Return a map of column-value-&gt;dataset.</p></div></div></div><div class="public anchor" id="var-group-by-column-.3Eindexes"><h3>group-by-column-&gt;indexes</h3><div class="usage"><code>(group-by-column-&gt;indexes dataset colname)</code></div><div class="doc"><div class="markdown"><p>(Non-lazy) - Group a dataset by a column return a map of column-val-&gt;indexes where indexes is an in-order contiguous group of indexes.</p></div></div></div><div class="public anchor" id="var-has-column.3F"><h3>has-column?</h3><div class="usage"><code>(has-column? dataset column-name)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-head"><h3>head</h3><div class="usage"><code>(head dataset n)</code><code>(head dataset)</code></div><div class="doc"><div class="markdown"><p>Get the first n row of a dataset. Equivalent to `(select-rows ds (range n)). Arguments are reversed, however, so this can be used in -&gt;&gt; operators.</p></div></div></div><div class="public anchor" id="var-missing"><h3>missing</h3><div class="usage"><code>(missing dataset-or-col)</code></div><div class="doc"><div class="markdown"><p>Given a dataset or a column, return the missing set as a roaring bitmap</p></div></div></div><div class="public anchor" id="var-new-column"><h3>new-column</h3><div class="usage"><code>(new-column name data)</code><code>(new-column name data metadata)</code><code>(new-column name data metadata missing)</code></div><div class="doc"><div class="markdown"><p>Create a new column. Data will scanned for missing values unless the full 4-argument pathway is used.</p></div></div></div><div class="public anchor" id="var-order-column-names"><h3>order-column-names</h3><div class="usage"><code>(order-column-names dataset colname-seq)</code></div><div class="doc"><div class="markdown"><p>Order a sequence of columns names so they match the order in the original dataset. Missing columns are placed last.</p></div></div></div><div class="public anchor" id="var-remove-column"><h3>remove-column</h3><div class="usage"><code>(remove-column dataset col-name)</code></div><div class="doc"><div class="markdown"><p>Same as:</p>
<pre><code class="clojure">(dissoc dataset col-name)
</code></pre></div></div></div><div class="public anchor" id="var-remove-columns"><h3>remove-columns</h3><div class="usage"><code>(remove-columns dataset colname-seq)</code></div><div class="doc"><div class="markdown"><p>Same as drop-columns</p></div></div></div><div class="public anchor" id="var-remove-rows"><h3>remove-rows</h3><div class="usage"><code>(remove-rows dataset-or-col row-indexes)</code></div><div class="doc"><div class="markdown"><p>Same as drop-rows.</p></div></div></div><div class="public anchor" id="var-rename-columns"><h3>rename-columns</h3><div class="usage"><code>(rename-columns dataset colname-map)</code></div><div class="doc"><div class="markdown"><p>Rename columns using a map. Does not reorder columns.</p></div></div></div><div class="public anchor" id="var-replace-missing"><h3>replace-missing</h3><div class="usage"><code>(replace-missing df)</code><code>(replace-missing df strategy)</code><code>(replace-missing df col-sel strategy)</code></div><div class="doc"><div class="markdown"><p>Replace missing with:</p>
<ul>
  <li>builtin strategys: <code>:mid</code> <code>:up</code> <code>:down</code> and <code>:lerp</code></li>
  <li>value</li>
  <li>or column function with missing slot dropped</li>
</ul></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L101">view source</a></div></div><div class="public anchor" id="var-row-count"><h3>row-count</h3><div class="usage"><code>(row-count dataset-or-col)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-select"><h3>select</h3><div class="usage"><code>(select dataset colname-seq index-seq)</code></div><div class="doc"><div class="markdown"><p>Reorder/trim dataset according to this sequence of indexes. Returns a new dataset. colname-seq - one of:  - :all - all the columns  - sequence of column names - those columns in that order.  - implementation of java.util.Map - column order is dictate by map iteration order  selected columns are subsequently named after the corresponding value in the map.  similar to <code>rename-columns</code> except this trims the result to be only the columns  in the map. index-seq - either keyword :all or list of indexes. May contain duplicates.</p></div></div></div><div class="public anchor" id="var-select-by-index"><h3>select-by-index</h3><div class="usage"><code>(select-by-index dataframe row-index col-index)</code></div><div class="doc"><div class="markdown"><p>Select a sub-dataframe by seq of row index and column index</p></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L95">view source</a></div></div><div class="public anchor" id="var-select-columns"><h3>select-columns</h3><div class="usage"><code>(select-columns dataset col-name-seq)</code></div><div class="doc"><div class="markdown"><p>Select columns from the dataset by seq of column names or :all.</p></div></div></div><div class="public anchor" id="var-select-columns-by-index"><h3>select-columns-by-index</h3><div class="usage"><code>(select-columns-by-index dataset col-index)</code></div><div class="doc"><div class="markdown"><p>Select columns from the dataset by seq of index(includes negative) or :all.</p>
<p>See documentation for <code>select-by-index</code>.</p></div></div></div><div class="public anchor" id="var-select-rows"><h3>select-rows</h3><div class="usage"><code>(select-rows dataset-or-col row-indexes)</code></div><div class="doc"><div class="markdown"><p>Select rows from the dataset or column.</p></div></div></div><div class="public anchor" id="var-select-rows-by-index"><h3>select-rows-by-index</h3><div class="usage"><code>(select-rows-by-index dataset-or-col row-index)</code></div><div class="doc"><div class="markdown"><p>Select rows from the dataset or column by seq of index(includes negative) or :all.</p>
<p>See documentation for <code>select-by-index</code>.</p></div></div></div><div class="public anchor" id="var-set-dataframe-name"><h3>set-dataframe-name</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L62">view source</a></div></div><div class="public anchor" id="var-shape"><h3>shape</h3><div class="usage"><code>(shape dataframe)</code></div><div class="doc"><div class="markdown"><p>Get the shape of dataframe, in row major way</p></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L89">view source</a></div></div><div class="public anchor" id="var-sort-by"><h3>sort-by</h3><div class="usage"><code>(sort-by dataset key-fn compare-fn)</code><code>(sort-by dataset key-fn)</code></div><div class="doc"><div class="markdown"><p>Sort a dataset by a key-fn and compare-fn.</p></div></div></div><div class="public anchor" id="var-sort-by-column"><h3>sort-by-column</h3><div class="usage"><code>(sort-by-column dataset colname compare-fn)</code><code>(sort-by-column dataset colname)</code></div><div class="doc"><div class="markdown"><p>Sort a dataset by a given column using the given compare fn.</p></div></div></div><div class="public anchor" id="var-tail"><h3>tail</h3><div class="usage"><code>(tail dataset n)</code><code>(tail dataset)</code></div><div class="doc"><div class="markdown"><p>Get the last n rows of a dataset. Equivalent to `(select-rows ds (range …)). Argument order is dataset-last, however, so this can be used in -&gt;&gt; operators.</p></div></div></div><div class="public anchor" id="var-take-nth"><h3>take-nth</h3><div class="usage"><code>(take-nth dataset n-val)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-unique-by"><h3>unique-by</h3><div class="usage"><code>(unique-by dataset {:keys [keep-fn], :or {keep-fn (fn* [p1__26918# p2__26917#] (first p2__26917#))}, :as _options} map-fn)</code><code>(unique-by dataset map-fn)</code></div><div class="doc"><div class="markdown"><p>Map-fn function gets passed map for each row, rows are grouped by the return value. Keep-fn is used to decide the index to keep.</p>
<p>:keep-fn - Function from key,idx-seq-&gt;idx. Defaults to #(first %2).</p></div></div></div><div class="public anchor" id="var-unique-by-column"><h3>unique-by-column</h3><div class="usage"><code>(unique-by-column dataset {:keys [keep-fn], :or {keep-fn (fn* [p1__26931# p2__26930#] (first p2__26930#))}, :as _options} colname)</code><code>(unique-by-column dataset colname)</code></div><div class="doc"><div class="markdown"><p>Map-fn function gets passed map for each row, rows are grouped by the return value. Keep-fn is used to decide the index to keep.</p>
<p>:keep-fn - Function from key, idx-seq-&gt;idx. Defaults to #(first %2).</p></div></div></div><div class="public anchor" id="var-unordered-select"><h3>unordered-select</h3><div class="usage"><code>(unordered-select dataset colname-seq index-seq)</code></div><div class="doc"><div class="markdown"><p>Perform a selection but use the order of the columns in the existing table; do <em>not</em> reorder the columns based on colname-seq. Useful when doing selection based on sets or persistent hash maps.</p></div></div></div><div class="public anchor" id="var-update-column"><h3>update-column</h3><div class="usage"><code>(update-column dataset col-name update-fn)</code></div><div class="doc"><div class="markdown"><p>Update a column returning a new dataset. update-fn is a column-&gt;column transformation. Error if column does not exist.</p></div></div></div><div class="public anchor" id="var-update-columns"><h3>update-columns</h3><div class="usage"><code>(update-columns dataframe col-name-seq-or-fn update-fn)</code></div><div class="doc"><div class="markdown"><p>Update a sequence of columns selected by:</p>
<ul>
  <li>column name seq: <code>(update-columns DF [:A :B] #(dfn// % (dfn/mean %)))</code></li>
  <li>column selector function.</li>
</ul>
<pre><code class="clojure">(require '[clj-djl.dataframe :as df]
         '[clj-djl.dataframe.functional :as dfn]
         '[clj-djl.dataframe.column-filters :as cf])

(def DF (df/-&gt;dataframe {:A [1 2 3]
                         :B [4 5 6]
                         :C ["A" "B" "C"]}))

(df/update-columns DF [:A :B] #(dfn// % (dfn/mean %)))
;; =&gt; _unnamed [3 3]:

|  :A |  :B | :C |
|-----|-----|----|
| 0.5 | 0.8 |  A |
| 1.0 | 1.0 |  B |
| 1.5 | 1.2 |  C |

(df/update-columns DF cf/numeric #(dfn// % (dfn/mean %)))
;; =&gt; _unnamed [3 3]:

|  :A |  :B | :C |
|-----|-----|----|
| 0.5 | 0.8 |  A |
| 1.0 | 1.0 |  B |
| 1.5 | 1.2 |  C |
</code></pre></div></div><div class="src-link"><a href="https://github.com/kimim/clj-djl.dataframe/blob/master/src/clj_djl/dataframe.clj#L119">view source</a></div></div></div></body></html>